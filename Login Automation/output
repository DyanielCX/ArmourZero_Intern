import json

# File path (Update this to the actual location of your JSON file)
outfilep = r"C:\Users\s1750\Downloads\INtern\ArmourZero_Intern\Login Automation\output.txt"

# Initialize variables for import
var1 = None
var2 = None

def extract_names(outfilep):
    #this is how the code work
    """
    Extracts the first two "name" fields from the JSON file.

    Args:
        filepath (str): Path to the JSON file.

    Sets:
        var1 (str): The first "name" value.
        var2 (str): The second "name" value.
    """
    global var1, var2
    
    with open(outfilep, "r") as file:
        content = json.load(file)  # Parses JSON into a Python list of dictionaries

    namecount = 0  # Counter for "name" entries

    # Loop through the data
    for line in content:
        if "name" in line:
            namecount += 1
            if namecount == 1:  # First "name"
                var1 = line["name"]
            elif namecount == 2:  # Second "name"
                var2 = line["name"]
                break  # Exit loop once both variables are found

    # Validate that both variables were found
    if var1 is None or var2 is None:
        raise ValueError("Failed to extract both 'name' fields from the file")

# Automatically extract variables when the script is imported
extract_names(outfilep)

if __name__ == "__main__":
    # Print the results when the script is run directly
    print(f"First name (var1): {var1}")
    print(f"Second name (var2): {var2}")
    print(f"Type of var1: {type(var1)}")
    print(f"Type of var2: {type(var2)}")
